# æ•™è‚²ç§‘æŠ€å‰µæ–°å°ˆå€ - æœªä¾†é–‹ç™¼å»ºè­° v3

> **æ›´æ–°æ—¥æœŸ**ï¼š2026-02-12  
> **ç‰ˆæœ¬**ï¼šv2.20.1  
> **ç‹€æ…‹**ï¼šåŸºç¤å»ºè¨­å®Œæˆï¼Œé‚å‘ AI è½‰å‹ã€‚
æ™ºæ…§å ±ä¿®ç³»çµ±ä¸Šç·š & å°è¦½è¡Œç‚ºé‚è¼¯å¾¹åº•ä¿®å¾©

---

## âœ… å·²å®Œæˆé …ç›®ç¸½è¦½

### ğŸ”´ P0: æ ¸å¿ƒåŠ å¼· (è¿‘æœŸå·²å®Œæˆ!)

| é …ç›® | ç‹€æ…‹ | å®Œæˆæ—¥æœŸ |
|------|------|----------|
| æ™ºæ…§å ±ä¿®ç³»çµ± (ID 53) | âœ… å…¨åŠŸèƒ½å¯¦ä½œ | 2026-02-12 |
| å°è¦½é‚è¼¯å„ªåŒ– | âœ… 100% æˆåŠŸç‡ | 2026-02-12 |
| EXPO é¸èª²ç³»çµ± (ID 52) | âœ… å…¨é¢éƒ¨ç½² | 2026-02-04 |
| è‡ªå‹•æ’èª²ç³»çµ± (ID 51) | âœ… å…¨é¢éƒ¨ç½² | 2026-02-04 |
| ç®¡ç†å“¡å„€è¡¨æ¿ | âœ… çµ±è¨ˆ+åœ°ç†è¿½è¹¤ | 2026-01-30 |
| PWA é›¢ç·šæ”¯æ´ | âœ… æ›´æ–°æç¤º | 2026-01-30 |

#### â— ğŸ©º å·¥å…·é€£çµå¥åº·ç›£æ¸¬ç³»çµ±
- **æ ¸å¿ƒé‚è¼¯**ï¼šæ’°å¯« Node.js å·¡æª¢è…³æœ¬ï¼Œæ¯é€±è‡ªå‹•æª¢æ¸¬ `data.ts` ä¸­ 50+ å€‹å¤–éƒ¨å·¥å…·çš„ URL ç‹€æ…‹ç¢¼ã€‚
- **è‡ªå‹•åŒ–**ï¼šæ•´åˆ GitHub Actions `workflow_dispatch` èˆ‡ `schedule`ï¼Œä¸¦é€é LINE Notify ç™¼é€ã€Œé€£çµç•°å¸¸é€šå ±ã€ã€‚
- **æ•ˆç›Š**ï¼šç¢ºä¿å¹³å°å°ˆæ¥­åº¦ï¼Œç¬¬ä¸€æ™‚é–“æŒæ¡å·¥å…·å¤±æ•ˆæƒ…æ³ã€‚

#### â— ğŸ“‚ å”ä½œå·¥å…·æ¸…å–® (Tool Playlists)
- **å¯¦ä½œæ–¹å¼**ï¼šå»ºç«‹ `playlists` Firestore é›†åˆï¼Œå­˜å„²åŒ…å«å·¥å…· ID é™£åˆ—çš„æ¨™é¡Œèˆ‡æè¿°ã€‚
- **åŠŸèƒ½éµ**ï¼šå¡ç‰‡é»æ“Šã€Œ+ã€è™ŸåŠ å…¥æš«å­˜æ¸…å–®ï¼Œé»æ“Šã€Œç”Ÿæˆåˆ†äº«é€£çµã€å¯«å…¥ Firebase ä¸¦å›å‚³å°ˆå±¬ URLã€‚

---

## ğŸ†• æ–°å¢åŠŸèƒ½æ¸…å–® (æœ¬æ¬¡æœƒè©±)

| åŠŸèƒ½ | æª”æ¡ˆä½ç½® | èªªæ˜ |
|------|----------|------|
| åœ°ç†åˆ†å¸ƒè¿½è¹¤ | `VisitorCounter.tsx` | ip-api.com IP å®šä½ |
| è¨­å‚™é¡å‹è¿½è¹¤ | `VisitorCounter.tsx` | User-Agent åµæ¸¬ |
| é»æ“Šç†±åŠ›åœ– | `useClickTracking.ts` | é é¢é»æ“Šè¿½è¹¤ |
| CSV å ±å‘Šä¸‹è¼‰ | `AnalyticsDashboard.tsx` | è©³ç´°åˆ†æå ±å‘Š |
| æ—¥æ›†è¦–åœ– | `AnalyticsDashboard.tsx` | 30å¤©è¨ªå•ç†±åŠ›åœ– |

#### â— ğŸ” AI èªæ„æœå°‹èˆ‡ RAG æ¨è–¦
- **æŠ€è¡“è·¯å¾‘**ï¼š
    1. ä½¿ç”¨ **Gemini Embedding API** å°‡æ‰€æœ‰å·¥å…·çš„ `detailedDescription` è½‰æ›ç‚ºå‘é‡ç©ºé–“æ•¸æ“šã€‚
    2. ä½¿ç”¨è‡ªç„¶èªè¨€è™•ç†ï¼ˆNLPï¼‰åŒ¹é…ä½¿ç”¨è€…æœå°‹æ„åœ–ã€‚
- **æœå°‹ç¯„ä¾‹**ï¼šè¼¸å…¥ã€Œæˆ‘æƒ³æ‰¾é©åˆåˆ†çµ„ç«¶è³½çš„ç¶²é ã€ï¼ŒAI æœƒè‡ªå‹•è·³éæ–‡å­—éæ¿¾ï¼Œç›´æ¥æ¨è–¦ã€ŒéŠæˆ²é¡ã€æˆ–ã€Œäº’å‹•é¡ã€çš„é«˜é—œè¯æ€§å·¥å…·ã€‚
- **åŠ åˆ†é …**ï¼šåœ¨æœå°‹çµæœé æä¾›ã€ŒAI ç‚ºä»€éº¼æ¨è–¦é€™æ¬¾å·¥å…·ï¼Ÿã€çš„ç°¡çŸ­åŸå› ã€‚

#### â— ğŸ¤– å…è²» AI æ•™æ¡ˆç”¢å‡ºç³»çµ±
- **å…§å®¹**ï¼šé˜¿å‡±è€å¸«å°ˆå€çš„æ®ºæ‰‹ç´šåŠŸèƒ½ã€‚
- **å¯¦ä½œ**ï¼šä¸²æ¥ Gemini 1.5 Flashï¼Œçµåˆç›®å‰å°ˆå€å·²æœ‰çš„å·¥å…·éˆï¼Œè‡ªå‹•æ ¹æ“šèª²æ¨™ï¼ˆæˆ–é—œéµå­—ï¼‰ç”¢å‡ºåŒ…å«å¼•å°ã€ä¸»æ´»å‹•èˆ‡è©•é‡çš„ Markdown æ•™æ¡ˆï¼Œä¸¦æä¾›è½‰ PDF ä¸‹è¼‰ã€‚

---

## ğŸš€ æœªä¾†é–‹ç™¼å»ºè­°

### ğŸ“Š P1: å„€è¡¨æ¿é€²éšåŠŸèƒ½ (å»ºè­°å„ªå…ˆ)

#### 1. å³æ™‚æ•¸æ“šæ›´æ–°
```
é›£åº¦: â­â­ ä¸­ç­‰
æ™‚é–“: 2-3 å¤©
```

**ç¾æ³**: æ•¸æ“šæ¯ 30 ç§’åˆ·æ–°ä¸€æ¬¡  
**å»ºè­°**: ä½¿ç”¨ Firebase Realtime å³æ™‚ç›£è½

```typescript
// ä½¿ç”¨ onSnapshot å³æ™‚ç›£è½
import { onSnapshot, doc } from 'firebase/firestore';

useEffect(() => {
  const unsubscribe = onSnapshot(
    doc(db, 'visitorStats', 'global'),
    (snapshot) => setStats(snapshot.data())
  );
  return unsubscribe;
}, []);
```

#### 2. çœŸå¯¦ IP åœ°ç†å®šä½ (HTTPS)
```
é›£åº¦: â­â­ ä¸­ç­‰
æ™‚é–“: 1-2 å¤©
```

**ç¾æ³**: ip-api.com åªæ”¯æ´ HTTP  
**å»ºè­°**: æ”¹ç”¨æ”¯æ´ HTTPS çš„æœå‹™

| æœå‹™ | å…è²»é¡åº¦ | HTTPS |
|------|----------|-------|
| ipinfo.io | 50k/æœˆ | âœ… |
| ipdata.co | 1.5k/å¤© | âœ… |
| ipgeolocation.io | 1k/å¤© | âœ… |

#### 3. å°å‡ºåŠŸèƒ½å¢å¼·
```
é›£åº¦: â­ ç°¡å–®
æ™‚é–“: 1 å¤©
```

- æ”¯æ´ Excel (.xlsx) æ ¼å¼
- æ”¯æ´ PDF å ±å‘Šæ ¼å¼
- è‡ªè¨‚æ™‚é–“ç¯„åœåŒ¯å‡º
- åœ–è¡¨æˆªåœ–ä¸‹è¼‰

---

### ğŸ® P2: ä½¿ç”¨è€…é«”é©—å„ªåŒ–

#### 4. å·¥å…·ä½¿ç”¨æ™‚é•·è¿½è¹¤
```
é›£åº¦: â­â­â­ è¼ƒé›£
æ™‚é–“: 3-4 å¤©
```

è¿½è¹¤ç”¨æˆ¶åœ¨æ¯å€‹å·¥å…·é é¢åœç•™çš„æ™‚é–“ï¼š

```typescript
// é é¢åœç•™æ™‚é–“è¿½è¹¤
const startTime = Date.now();
window.addEventListener('beforeunload', () => {
  const duration = Date.now() - startTime;
  trackPageDuration(toolId, duration);
});
```

#### 5. ç”¨æˆ¶æ—…ç¨‹åˆ†æ
```
é›£åº¦: â­â­â­ è¼ƒé›£
æ™‚é–“: 4-5 å¤©
```

- è¨˜éŒ„ç”¨æˆ¶ç€è¦½é †åº
- åˆ†æç†±é–€å·¥å…·çµ„åˆ
- æ‰¾å‡ºæµå¤±é»

#### 6. A/B æ¸¬è©¦æ¡†æ¶
```
é›£åº¦: â­â­â­â­ å›°é›£
æ™‚é–“: 1 é€±
```

- å»ºç«‹è®Šé«”åˆ‡æ›æ©Ÿåˆ¶
- è¿½è¹¤å„è®Šé«”è½‰æ›ç‡
- è‡ªå‹•é¸æ“‡æœ€ä½³ç‰ˆæœ¬

---

### ğŸ“± P3: è¡Œå‹•ç«¯å„ªåŒ–

#### 7. æ‰‹æ©Ÿç‰ˆå„€è¡¨æ¿
```
é›£åº¦: â­â­ ä¸­ç­‰
æ™‚é–“: 2-3 å¤©
```

- å †ç–Šå¼å¡ç‰‡ä½ˆå±€
- è§¸æ§å‹å¥½çš„åœ–è¡¨
- ä¸‹æ‹‰åˆ·æ–°æ•¸æ“š

#### 8. é›¢ç·šæ•¸æ“šå¿«å–
```
é›£åº¦: â­â­ ä¸­ç­‰
æ™‚é–“: 2 å¤©
```

```typescript
// Service Worker å¿«å–ç­–ç•¥
workbox.routing.registerRoute(
  /\/api\/stats/,
  new workbox.strategies.StaleWhileRevalidate({
    cacheName: 'analytics-cache',
  })
);
```

---

### ğŸ” P4: å®‰å…¨æ€§èˆ‡æ¬Šé™

#### 9. ç®¡ç†å“¡é©—è­‰
```
é›£åº¦: â­â­â­ è¼ƒé›£
æ™‚é–“: 3-4 å¤©
```

- `/admin` é é¢éœ€è¦ç™»å…¥
- Firebase Auth æ•´åˆ
- è§’è‰²æ¬Šé™ç®¡ç†

```typescript
// ç°¡å–®çš„ç®¡ç†å“¡é©—è­‰
const ADMIN_EMAILS = ['admin@example.com'];
const isAdmin = user && ADMIN_EMAILS.includes(user.email);
```

#### 10. æ•¸æ“šå‚™ä»½æ©Ÿåˆ¶
```
é›£åº¦: â­â­ ä¸­ç­‰
æ™‚é–“: 2 å¤©
```

- Firebase è‡ªå‹•å‚™ä»½
- åŒ¯å‡ºæ­·å²æ•¸æ“š
- è³‡æ–™é‚„åŸåŠŸèƒ½

---

## ğŸ“‹ é–‹ç™¼å„ªå…ˆç´šå»ºè­°

### ç¬¬ä¸€éšæ®µ (1-2 é€±)
1. å·¥å…·ä½¿ç”¨æ™‚é•·è¿½è¹¤
2. å°å‡ºåŠŸèƒ½å¢å¼·
3. æ‰‹æ©Ÿç‰ˆå„ªåŒ–

### ç¬¬äºŒéšæ®µ (2-4 é€±)
4. ç”¨æˆ¶æ—…ç¨‹åˆ†æ
5. A/B æ¸¬è©¦æ¡†æ¶
6. é›¢ç·šå¿«å–

### ç¬¬ä¸‰éšæ®µ (1-2 æœˆ)
7. æ•¸æ“šå‚™ä»½æ©Ÿåˆ¶

---

## ğŸ”§ æŠ€è¡“å‚µå‹™å¾…è™•ç†

| å•é¡Œ | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| TypeScript å‹åˆ¥éŒ¯èª¤ | ğŸ”´ é«˜ | `@/types/analytics` ç¼ºå¤± |
| heatmap.js å‹åˆ¥ | ğŸŸ¡ ä¸­ | éœ€è¦å‹åˆ¥å®£å‘Š |
| çµ±è¨ˆå¡ç‰‡å‡æ•¸æ“š | ğŸŸ¡ ä¸­ | æœ¬é€±æµé‡ç­‰ä½¿ç”¨å‡æ•¸æ“š |
| è¨­å‚™åˆ†æåˆå§‹æ•¸æ“š | ğŸŸ¢ ä½ | é¦–æ¬¡è¼‰å…¥é¡¯ç¤º 0% |

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹æ›´æ–°

```
client/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ AnalyticsDashboard.tsx   [1000 è¡Œ] â† æ ¸å¿ƒå„€è¡¨æ¿
â”‚   â””â”€â”€ VisitorCounter.tsx       [320 è¡Œ]  â† å«è¨­å‚™/åœ°ç†è¿½è¹¤
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useClickTracking.ts      [æ–°å¢] â† é»æ“Šç†±åŠ›è¿½è¹¤
â”‚   â”œâ”€â”€ useToolTracking.ts       â† å·¥å…·ä½¿ç”¨è¿½è¹¤
â”‚   â””â”€â”€ __tests__/               â† 62 å€‹æ¸¬è©¦
â””â”€â”€ lib/
    â””â”€â”€ firestoreService.ts      â† Firebase æœå‹™å±¤
```

---

## ğŸ“Œ å¿«é€Ÿåƒè€ƒ

| åŠŸèƒ½ | è¨ªå•è·¯å¾‘ |
|------|----------|
| é¦–é  | http://localhost:5173/ |
| ç®¡ç†å„€è¡¨æ¿ | http://localhost:5173/admin |
| Firebase Console | https://console.firebase.google.com/ |
| GitHub Pages | https://cagoooo.github.io/Akai/ |
