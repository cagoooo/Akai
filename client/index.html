<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8" />
  <!-- 動態設定 base URL -->
  <script>
    (function () {
      var base = window.location.pathname.startsWith('/Akai') ? '/Akai/' : '/';
      // 動態插入 link 標籤
      var head = document.head;
      var createLink = function (rel, href, type, sizes) {
        var link = document.createElement('link');
        link.rel = rel;
        link.href = base + href;
        if (type) link.type = type;
        if (sizes) link.sizes = sizes;
        head.appendChild(link);
      };
      createLink('icon', 'favicon.ico', 'image/x-icon');
      createLink('icon', 'favicon-32x32.png', 'image/png', '32x32');
      createLink('icon', 'favicon-16x16.png', 'image/png', '16x16');
      createLink('apple-touch-icon', 'apple-touch-icon.png', null, '180x180');
      createLink('manifest', 'manifest.json');
    })();
  </script>

  <!-- DNS 預連接與預獲取 - 改善 LCP/FCP -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://firestore.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://firestore.googleapis.com" />

  <!-- 預載入關鍵字體 - 改善 FCP -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    as="style" />

  <!-- 關鍵 CSS 內聯 - 改善 CLS -->
  <style>
    /* 防止 FOUT 和 CLS */
    :root {
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }

    body {
      font-family: var(--font-sans);
      margin: 0;
      min-height: 100vh;
      background-color: #fafafa;
    }

    /* 骨架屏預設顯示 */
    #root:empty {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    #root:empty::after {
      content: '';
      width: 40px;
      height: 40px;
      border: 3px solid #e5e7eb;
      border-top-color: #6366f1;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>

  <!-- Favicon 和 manifest 由上方腳本動態插入 -->
  <meta name="msapplication-TileColor" content="#ffffff" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="致力於開發實用的教育工具，結合科技與教育，為師生創造更好的教學與學習體驗。提供線上即時客服、教案靈感生成、漢語閱讀理解等多元化教育資源。" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="教育科技創新專區" />


  <!-- Primary Meta Tags -->
  <title>教育科技創新專區 - 阿凱老師</title>
  <meta name="title" content="教育科技創新專區 - 阿凱老師" />
  <meta name="author" content="阿凱老師" />
  <meta name="keywords" content="教育科技,教學工具,線上教育,教育創新,教育資源,教案設計,閱讀理解,PIRLS,QRCode工具,蜂類教育,教師評語,石門國小,桃園教育" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="教育科技創新專區" />
  <meta property="og:title" content="教育科技創新專區 - 阿凱老師" />
  <meta property="og:description" content="致力於開發實用的教育工具，結合科技與教育，為師生創造更好的教學與學習體驗。" />
  <meta property="og:image" content="/Akai.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:locale" content="zh_TW" />
  <meta property="og:url" content="https://smes.tyc.edu.tw" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@教育科技創新專區" />
  <meta name="twitter:title" content="教育科技創新專區 - 阿凱老師" />
  <meta name="twitter:description" content="致力於開發實用的教育工具，結合科技與教育，為師生創造更好的教學與學習體驗。" />
  <meta property="twitter:image" content="/Akai.png" />
  <meta name="twitter:image:alt" content="教育科技創新專區預覽圖" />

  <!-- Additional Meta -->
  <meta name="robots" content="index, follow" />
  <meta name="language" content="Traditional Chinese" />
  <meta name="revisit-after" content="7 days" />
  <meta name="generator" content="Vite" />
  <meta name="format-detection" content="telephone=no" />


  <!-- Schema.org markup for Google -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "教育科技創新專區",
      "description": "致力於開發實用的教育工具，結合科技與教育，為師生創造更好的教學與學習體驗。",
      "url": "https://smes.tyc.edu.tw",
      "logo": "apple-touch-icon.png",
      "sameAs": [
        "https://line.me/R/ti/p/@733oiboa",
        "https://lin.ee/pCqnVhT"
      ],
      "founder": {
        "@type": "Person",
        "name": "阿凱老師",
        "jobTitle": "教育科技創新者"
      },
      "offers": {
        "@type": "AggregateOffer",
        "offers": [
          {
            "@type": "Offer",
            "name": "線上即時客服",
            "description": "提供即時的線上教育支援和諮詢服務"
          },
          {
            "@type": "Offer",
            "name": "教案靈感生成",
            "description": "為教師提供創新的教學設計靈感"
          }
        ]
      }
    }
    </script>

  <!-- Alternate language versions -->
  <link rel="alternate" href="https://smes.tyc.edu.tw" hreflang="zh-TW" />

  <!-- Canonical URL -->
  <link rel="canonical" href="https://smes.tyc.edu.tw" />
</head>

<body>
  <!-- 無障礙性：跳過導航直接到主內容 -->
  <a href="#main-content" class="skip-link">
    跳到主要內容
  </a>
  <style>
    /* 無障礙性：Skip Link 樣式 */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #6366f1;
      color: white;
      padding: 8px 16px;
      z-index: 1000;
      border-radius: 0 0 8px 0;
      font-weight: 600;
      text-decoration: none;
      transition: top 0.2s;
    }

    .skip-link:focus {
      top: 0;
    }

    /* 無障礙性：尊重使用者動畫偏好 */
    @media (prefers-reduced-motion: reduce) {

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* 無障礙性：改善焦點可見性 */
    :focus-visible {
      outline: 3px solid #6366f1;
      outline-offset: 2px;
    }
  </style>

  <!-- GitHub Pages SPA 路由處理 -->
  <script>
    (function () {
      // 處理從 404.html 重定向過來的路徑
      var redirect = new URLSearchParams(window.location.search).get('redirect');
      if (redirect) {
        // 移除 redirect 參數並導航到正確的路徑
        window.history.replaceState(null, '', redirect);
      }
    })();
  </script>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>